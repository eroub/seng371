{"version":3,"file":"productController.js","sourceRoot":"","sources":["../../../src/controllers/productController.ts"],"names":[],"mappings":"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","sourcesContent":["import { NextFunction, Request, Response, Router} from \"express\";\nimport Helpers = require(\"../helperFunctions\");\nimport { ProductModel } from \"../models/productModel\";\nimport { BaseRoute } from \"../routes/router\";\n\nlet allShoes: any;\nlet id: any;\n\nexport class ProductController extends BaseRoute {\n\n    /**\n     * Creates ProductController routes.\n     *\n     * @class ProductController extends BaseRoute\n     * @method create\n     * @param router {Router} The router object.\n     * @return void\n     */\n\n    public static create(router: Router) {\n        // show all shoes\n        router.get(\"/user/:id/allShoes\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().allShoes(req, res, next);\n        });\n        // show all shoes sorted from high to low\n        router.get(\"/user/:id/allShoes/sort/current_price_high\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortCurrentPriceHighDb(req, res, next);\n        });\n        // show all shoes sorted from low to high\n        router.get(\"/user/:id/allShoes/sort/current_price_low\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortCurrentPriceLowDb(req, res, next);\n        });\n        router.get(\"/user/:id/allShoes/sort/retail_price_high\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortRetailPriceHighDb(req, res, next);\n        });\n        // show all shoes sorted from low to high\n        router.get(\"/user/:id/allShoes/sort/retail_price_low\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortRetailPriceLowDb(req, res, next);\n        });\n\n        router.get(\"/user/:id/allShoes/sort/diff_high\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortDiffPriceHighDb(req, res, next);\n        });\n        // show all shoes sorted from low to high\n        router.get(\"/user/:id/allShoes/sort/diff_low\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortDiffPriceLowDb(req, res, next);\n        });\n\n        router.get(\"/user/:id/allShoes/sort/alpha_desc\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortAlphaDesc(req, res, next);\n        });\n\n        router.get(\"/user/:id/allShoes/sort/alpha_asc\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().sortAlphaAsc(req, res, next);\n        });\n\n        router.get(\"/user/:id/allShoes/filter/under_retail\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().underRetail(req, res, next);\n        });\n        // Add shoe (id2) to user (id) portfolio, redirect to price input\n        router.get(\"/user/:id/add_shoe/:id2\", (req: Request, res: Response, next: NextFunction) => {\n            new ProductController().inputShoe(req, res, next);\n        });\n    }\n\n    /**\n     * Renders the addShoe view when user navigates to /user/<user_id>/add_shoe/<shoe_id>.\n     *\n     * @class ProductController extends BaseRoute\n     * @method inputShoe\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async inputShoe(req: Request, res: Response, next: NextFunction) {\n        const userIdString = \"id\";\n        const userId = parseInt(req.params[userIdString], 10);\n        const shoeIdString = \"id2\";\n        const shoeId = parseInt(req.params[shoeIdString], 10);\n        const shoe = await Helpers.getShoe(shoeId);\n        if (shoe) {\n            this.render(req, res, \"addShoe\", {id: userId, shoe});\n        } else {\n            res.status(404)\n                .send({\n                    message: \"No shoe found with the given id.\",\n                    status: res.status,\n                });\n        }\n\n    }\n\n    /**\n     * Renders the shoeList view when user navigates to /user/<user_id>/allShoes/<shoe_id>.\n     *\n     * @class ProductController extends BaseRoute\n     * @method allShoes\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async allShoes(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const userId = parseInt(req.params[idString], 10);\n        id = userId;\n        if (await this.setLocal(userId)) {\n            allShoes.sort((a: any, b: any) => {\n                const aname = a.brand + \" \" + a.model + \" \" + a.colorway;\n                const bname = b.brand + \" \" + b.model + \" \" + b.colorway;\n                return aname.toLowerCase().localeCompare(bname.toLowerCase());\n            });\n            this.render(req, res, \"shoeList\", {id: userId, title: \"Shoes\", data: allShoes});\n        } else {\n            res.status(404)\n                .send({\n                    message: \"No user found with the given user id.\",\n                    status: res.status,\n                });\n        }\n    }\n\n    /**\n     * queries the db to get allShoes array,called in allShoes\n     * when a user navigates to /user/<user_id>/allShoes/<shoe_id>\n     *\n     * @class ProductController extends BaseRoute\n     * @method allShoes\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async setLocal(userID: any) {\n        if (Helpers.isUser(userID)) {\n            const shoeIf = new ProductModel();\n            allShoes = await shoeIf.getAllDB();\n            id = userID;\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * Checks if the allShoes array has already been set otherwise it will call setlocal to query the db\n     * @class ProductController extends BaseRoute\n     * @method check_local\n     * @param userID the id of the user currently viewing all shoes.\n     * @return void\n     */\n\n    public async check_local(userID: any) {\n        if (!allShoes) {\n            return await this.setLocal(userID);\n        } else if (userID !== id) {\n            return await this.setLocal(userID);\n        }\n        return true;\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/current_price_low\"\n     * @class ProductController extends BaseRoute\n     * @method sortCurrentPriceLowDb\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortCurrentPriceLowDb(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => a.current_price - b.current_price);\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/alpha_desc\"\n     * @class ProductController extends BaseRoute\n     * @method sortAlphaDesc\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortAlphaDesc(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => {\n                const aname = a.brand + \" \" + a.model + \" \" + a.colorway;\n                const bname = b.brand + \" \" + b.model + \" \" + b.colorway;\n                return bname.toLowerCase().localeCompare(aname.toLowerCase());\n            });\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/alpha_asc\"\n     * @class ProductController extends BaseRoute\n     * @method sortAlphaAsc\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortAlphaAsc(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => {\n                const aname = a.brand + \" \" + a.model + \" \" + a.colorway;\n                const bname = b.brand + \" \" + b.model + \" \" + b.colorway;\n                return aname.toLowerCase().localeCompare(bname.toLowerCase());\n            });\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/current_price_high\"\n     * @class ProductController extends BaseRoute\n     * @method sortCurrentPriceHighDb\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortCurrentPriceHighDb(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => b.current_price - a.current_price);\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/retail_price_low\"\n     * @class ProductController extends BaseRoute\n     * @method sortRetailPriceLowDb\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortRetailPriceLowDb(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => a.retail_price - b.retail_price);\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/retail_price_high\"\n     * @class ProductController extends BaseRoute\n     * @method sortRetailPriceHighDb\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortRetailPriceHighDb(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => b.retail_price - a.retail_price);\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/diff_low\"\n     * @class ProductController extends BaseRoute\n     * @method sortDiffPriceLowDb\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortDiffPriceLowDb(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => (a.current_price - a.retail_price) - (b.current_price - b.retail_price));\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/sort/diff_high\"\n     * @class ProductController extends BaseRoute\n     * @method sortDiffPriceHighDb\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async sortDiffPriceHighDb(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const queryint = parseInt(req.params[idString], 10);\n        if (await this.check_local(queryint)) {\n            allShoes.sort((a: any, b: any) => (b.current_price - b.retail_price) - (a.current_price - a.retail_price));\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: queryint,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404);\n            res.send(\"invalid user\");\n        }\n    }\n\n    /**\n     * Renders the view shoeList when a user navigates to the url : /user/<user_id>/allShoes/filter/under_retail\"\n     * @class ProductController extends BaseRoute\n     * @method underRetail\n     * @param req {Request} The request object.\n     * @param res {Response} The response object.\n     * @param next {NextFunction} The NextFunction.\n     * @return void\n     */\n\n    public async underRetail(req: Request, res: Response, next: NextFunction) {\n        const idString = \"id\";\n        const userId = parseInt(req.params[idString], 10);\n        const underRetail: any = [];\n        if (await this.check_local(userId)) {\n            for (const item in allShoes) {\n                if (allShoes.hasOwnProperty(item)) {\n                    if ((allShoes[item].current_price - allShoes[item].retail_price) < 0) {\n                        underRetail.push(allShoes[item]);\n                    }\n                }\n            }\n            allShoes = underRetail;\n            this.render(req, res, \"shoeList\", {\n                data: allShoes,\n                id: userId,\n                title: \"Shoes\",\n            });\n        } else {\n            res.status(404)\n                .send({\n                    message: \"No user with associated ID. Check the entered number.\",\n                    status: res.status,\n                });\n        }\n    }\n\n}\n"]}